"use strict";(self.webpackChunkfefinal=self.webpackChunkfefinal||[]).push([[186],{186:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o});const o={init(e){document.getElementById("btnLogin").addEventListener("click",(async()=>{const t=document.getElementById("email").value.trim(),a=document.getElementById("password").value.trim();if(t&&a)try{const o=await async function({email:e,password:t}){const a=await fetch("http://localhost:3000/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})});if(!a.ok){const e=await a.json();throw new Error(e.message||"Login failed")}return await a.json()}({email:t,password:a}),n=o.token||o.data?.token;if(!n)throw new Error("Token tidak ditemukan di response.");localStorage.setItem("token",n),e.showSuccess("Login berhasil!"),window.location.hash="#/dashboard"}catch(t){e.showError(t.message||"Login gagal.")}else e.showError("Email dan password harus diisi.")}))}}}}]);